{% extends "base.html" %}

{% block title %}CBT Practice - SMIED{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
    <!-- Header -->
    <div class="bg-white shadow-lg border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <div class="h-12 w-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-graduation-cap text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">CBT Practice</h1>
                        <p class="text-sm text-gray-600">Welcome, {{ student.first_name }} {{ student.last_name }}</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="text-sm text-gray-600">Class: {{ student_class.name }}</p>
                        <p class="text-sm text-gray-600">Student ID: {{ student.student_id }}</p>
                    </div>
                    <a href="{{ url_for('student_login') }}" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200">
                        <i class="fas fa-sign-out-alt mr-1"></i>Logout
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Welcome Section -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100">
            <div class="text-center">
                <div class="mx-auto h-20 w-20 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-laptop-code text-white text-3xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Computer-Based Test Practice</h2>
                <p class="text-lg text-gray-600 mb-4">
                    Practice with questions specifically designed for <span class="font-bold text-indigo-600">{{ student_class.name }}</span>
                </p>
                <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6">
                    <div class="flex items-center justify-center">
                        <i class="fas fa-info-circle text-indigo-500 mr-2"></i>
                        <p class="text-indigo-800 font-medium">
                            All questions are tailored to your class level ({{ student_class.name }}) and follow the Nigerian curriculum
                        </p>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto">
                    <div class="bg-blue-50 rounded-lg p-4">
                        <i class="fas fa-book text-blue-500 text-2xl mb-2"></i>
                        <h3 class="font-semibold text-blue-900">Curriculum Based</h3>
                        <p class="text-sm text-blue-700">Questions aligned with Nigerian curriculum</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4">
                        <i class="fas fa-clock text-green-500 text-2xl mb-2"></i>
                        <h3 class="font-semibold text-green-900">Instant Results</h3>
                        <p class="text-sm text-green-700">Get immediate feedback and explanations</p>
                    </div>
                    <div class="bg-purple-50 rounded-lg p-4">
                        <i class="fas fa-chart-line text-purple-500 text-2xl mb-2"></i>
                        <h3 class="font-semibold text-purple-900">Progress Tracking</h3>
                        <p class="text-sm text-purple-700">Monitor your improvement over time</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Class Information -->
        <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl shadow-xl p-6 mb-8 text-white">
            <div class="text-center">
                <div class="mx-auto h-16 w-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-graduation-cap text-white text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold mb-2">Questions for {{ student_class.name }}</h3>
                <p class="text-indigo-100">
                    All practice questions are specifically designed for students in {{ student_class.name }} 
                    and follow the Nigerian educational curriculum standards.
                </p>
            </div>
        </div>

        <!-- Subject Selection -->
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
            <h3 class="text-2xl font-bold text-gray-900 mb-6 text-center">Choose a Subject to Practice</h3>
            
            <!-- Nigerian Education System Subjects Based on Class Level -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <!-- Core Subjects for All Classes (Basic 1-6) -->
                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-calculator text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Mathematics</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='math') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-language text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">English Language</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='english') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-flask text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Basic Science</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='science') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-medium rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>

                <!-- Social Studies - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border border-orange-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-globe text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Social Studies</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='social') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white font-medium rounded-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Christian Religious Studies - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-6 border border-teal-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-pray text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Christian Religious Studies</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='crs') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-medium rounded-lg hover:from-teal-600 hover:to-cyan-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Civic Education - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-6 border border-yellow-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-yellow-500 to-amber-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-book-open text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Civic Education</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='civic') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-medium rounded-lg hover:from-yellow-600 hover:to-amber-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Basic Technology - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-6 border border-indigo-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-atom text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Basic Technology</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='technology') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-500 to-blue-600 text-white font-medium rounded-lg hover:from-indigo-600 hover:to-blue-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Cultural & Creative Arts - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl p-6 border border-pink-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-palette text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Cultural & Creative Arts</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='cca') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-600 text-white font-medium rounded-lg hover:from-pink-600 hover:to-rose-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Physical & Health Education - Available from Basic 4 onwards -->
                {% if student_class.grade_level >= 4 %}
                <div class="bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-emerald-500 to-green-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-running text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Physical & Health Education</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='phe') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-medium rounded-lg hover:from-emerald-600 hover:to-green-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Additional subjects for Basic 5-6 -->
                {% if student_class.grade_level >= 5 %}
                <div class="bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-6 border border-violet-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-home text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Home Economics</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='home_economics') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-600 text-white font-medium rounded-lg hover:from-violet-600 hover:to-purple-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

                {% if student_class.grade_level >= 5 %}
                <div class="bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 hover:shadow-lg transition-all duration-300 group">
                    <div class="text-center">
                        <div class="mx-auto h-16 w-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-music text-white text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Music</h4>
                        <p class="text-gray-600 mb-4">Practice questions for {{ student_class.name }}</p>
                        <a href="{{ url_for('student_cbt_test', subject_id='music') }}" 
                           class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-all duration-200 group-hover:scale-105">
                            <i class="fas fa-play mr-2"></i>
                            Start Practice
                        </a>
                    </div>
                </div>
                {% endif %}

            </div>
        </div>

        <!-- Quick Stats -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white rounded-xl shadow-lg p-6 text-center border border-gray-100">
                <div class="mx-auto h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center mb-3">
                    <i class="fas fa-trophy text-blue-600 text-xl"></i>
                </div>
                <h4 class="text-lg font-semibold text-gray-900">Best Score</h4>
                <p class="text-2xl font-bold text-blue-600">--</p>
                <p class="text-sm text-gray-600">Start practicing to see your scores</p>
            </div>
            
            <div class="bg-white rounded-xl shadow-lg p-6 text-center border border-gray-100">
                <div class="mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mb-3">
                    <i class="fas fa-check-circle text-green-600 text-xl"></i>
                </div>
                <h4 class="text-lg font-semibold text-gray-900">Tests Completed</h4>
                <p class="text-2xl font-bold text-green-600">0</p>
                <p class="text-sm text-gray-600">Keep practicing to improve</p>
            </div>
            
            <div class="bg-white rounded-xl shadow-lg p-6 text-center border border-gray-100">
                <div class="mx-auto h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center mb-3">
                    <i class="fas fa-clock text-purple-600 text-xl"></i>
                </div>
                <h4 class="text-lg font-semibold text-gray-900">Total Time</h4>
                <p class="text-2xl font-bold text-purple-600">0m</p>
                <p class="text-sm text-gray-600">Time spent practicing</p>
            </div>
        </div>
    </div>
</div>

<script>
// Professional hover effects and interactions
document.addEventListener('DOMContentLoaded', function() {
    // Add smooth hover effects to subject cards
    const subjectCards = document.querySelectorAll('.group');
    
    subjectCards.forEach(card => {
        // Add professional hover state management
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-2px)';
            this.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '';
        });
        
        // Add click feedback
        card.addEventListener('mousedown', function() {
            this.style.transform = 'translateY(0) scale(0.98)';
        });
        
        card.addEventListener('mouseup', function() {
            this.style.transform = 'translateY(-2px) scale(1)';
        });
    });
    
    // Add loading state to buttons
    const practiceButtons = document.querySelectorAll('a[href*="student_cbt_test"]');
    practiceButtons.forEach(button => {
        button.addEventListener('click', function() {
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Loading...';
            this.style.pointerEvents = 'none';
            
            // Reset after 2 seconds if page doesn't navigate
            setTimeout(() => {
                this.innerHTML = originalText;
                this.style.pointerEvents = 'auto';
            }, 2000);
        });
    });
});
</script>
{% endblock %}
